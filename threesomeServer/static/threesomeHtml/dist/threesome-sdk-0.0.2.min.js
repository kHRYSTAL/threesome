!function(){"use strict";function e(e){s.push(e),1==s.length&&l()}function t(){for(;s.length;)s[0](),s.shift()}function n(e){this.a=p,this.b=void 0,this.f=[];var t=this;try{e(function(e){i(t,e)},function(e){c(t,e)})}catch(e){c(t,e)}}function r(e){return new n(function(t,n){n(e)})}function o(e){return new n(function(t){t(e)})}function i(e,t){if(e.a==p){if(t==e)throw new TypeError;var n=!1;try{var r=t&&t.then;if(null!=t&&"object"==typeof t&&"function"==typeof r)return void r.call(t,function(t){n||i(e,t),n=!0},function(t){n||c(e,t),n=!0})}catch(t){return void(n||c(e,t))}e.a=0,e.b=t,a(e)}}function c(e,t){if(e.a==p){if(t==e)throw new TypeError;e.a=1,e.b=t,a(e)}}function a(t){e(function(){if(t.a!=p)for(;t.f.length;){var e=t.f.shift(),n=e[0],r=e[1],o=e[2],e=e[3];try{0==t.a?o("function"==typeof n?n.call(void 0,t.b):t.b):1==t.a&&("function"==typeof r?o(r.call(void 0,t.b)):e(t.b))}catch(t){e(t)}}})}function u(e){return new n(function(t,n){var r=0,i=[];0==e.length&&t(i);for(var c=0;c<e.length;c+=1)o(e[c]).c(function(n){return function(o){i[n]=o,(r+=1)==e.length&&t(i)}}(c),n)})}function f(e){return new n(function(t,n){for(var r=0;r<e.length;r+=1)o(e[r]).c(t,n)})}var l,s=[];l=function(){setTimeout(t)};var p=2;n.prototype.g=function(e){return this.c(void 0,e)},n.prototype.c=function(e,t){var r=this;return new n(function(n,o){r.f.push([e,t,n,o]),a(r)})},window.Promise||(window.Promise=n,window.Promise.resolve=o,window.Promise.reject=r,window.Promise.race=f,window.Promise.all=u,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype.catch=n.prototype.g)}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.threesome=t()}(this,function(){"use strict";function e(e,t){return null!=t&&e instanceof t}function t(n,r,o,i,a){function u(n,o){if(null===n)return null;if(0===o)return n;var p,d;if("object"!=(void 0===n?"undefined":I(n)))return n;if(e(n,C))p=new C;else if(e(n,R))p=new R;else if(e(n,J))p=new J(function(e,t){n.then(function(t){e(u(t,o-1))},function(e){t(u(e,o-1))})});else if(t.__isArray(n))p=[];else if(t.__isRegExp(n))p=new RegExp(n.source,c(n)),n.lastIndex&&(p.lastIndex=n.lastIndex);else if(t.__isDate(n))p=new Date(n.getTime());else{if(s&&Buffer.isBuffer(n))return p=new Buffer(n.length),n.copy(p),p;e(n,Error)?p=Object.create(n):void 0===i?(d=Object.getPrototypeOf(n),p=Object.create(d)):(p=Object.create(i),d=i)}if(r){var y=f.indexOf(n);if(-1!=y)return l[y];f.push(n),l.push(p)}e(n,C)&&n.forEach(function(e,t){var n=u(t,o-1),r=u(e,o-1);p.set(n,r)}),e(n,R)&&n.forEach(function(e){var t=u(e,o-1);p.add(t)});for(var h in n){var v;d&&(v=Object.getOwnPropertyDescriptor(d,h)),v&&null==v.set||(p[h]=u(n[h],o-1))}if(Object.getOwnPropertySymbols)for(var g=Object.getOwnPropertySymbols(n),h=0;h<g.length;h++){var m=g[h],b=Object.getOwnPropertyDescriptor(n,m);(!b||b.enumerable||a)&&(p[m]=u(n[m],o-1),b.enumerable||Object.defineProperty(p,m,{enumerable:!1}))}if(a)for(var w=Object.getOwnPropertyNames(n),h=0;h<w.length;h++){var B=w[h],b=Object.getOwnPropertyDescriptor(n,B);b&&b.enumerable||(p[B]=u(n[B],o-1),Object.defineProperty(p,B,{enumerable:!1}))}return p}"object"===(void 0===r?"undefined":I(r))&&(o=r.depth,i=r.prototype,a=r.includeNonEnumerable,r=r.circular);var f=[],l=[],s="undefined"!=typeof Buffer;return void 0===r&&(r=!0),void 0===o&&(o=1/0),u(n,o)}function n(e){return Object.prototype.toString.call(e)}function r(e){return"object"===(void 0===e?"undefined":I(e))&&"[object Date]"===n(e)}function o(e){return"object"===(void 0===e?"undefined":I(e))&&"[object Array]"===n(e)}function i(e){return"object"===(void 0===e?"undefined":I(e))&&"[object RegExp]"===n(e)}function c(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}function a(e){var n=t(e);if("object"===(void 0===n?"undefined":I(n)))for(var r in n)n[r]=a(n[r]);else"string"==typeof n?n=encodeURI(n):"function"!=typeof n&&(n=n.toString());return n}function u(e){return decodeURIComponent(e)}function f(e){return"_"+(e=encodeURI(e).replace(/%/g,""))+"_Callback"}function l(e,t){V.registerHandler(e,function(e){e=u(e);try{e=JSON.parse(e)}catch(e){}finally{t(e)}})}function s(e,t){return new Promise(function(n,r){if(!e||"string"!=typeof e)return void r(e+" lost argument");var o={taskId:e};t&&(o.param=a(t)),V.callHandler("NativeThreesome",o,function(e){e=u(e);try{e=JSON.parse(e)}catch(e){}finally{n(e)}})})}function p(e){s("threesome/navigator/openGroup",e)}function d(e){s("threesome/navigator/openPage",e)}function y(){s("threesome/navigator/closeCurGroup")}function h(){s("threesome/navigator/closeCurPage")}function v(e){return s("threesome/titleBar/leftbutton",{navBtnType:e})}function g(e){return s("threesome/titleBar/leftclosebutton/color",{color:e})}function m(e,t){var n=e.txt?e.txt:e.navBtnType?e.navBtnType:"";return e.handlerName=f(n),l(e.handlerName,t),s("threesome/titleBar/button",e)}function b(e,t){return m("string"==typeof e?{txt:e}:e,t)}function w(e,t){return m({navBtnType:e},t)}function B(e){var t=[];return e.backgroundColor&&t.push(S(e.backgroundColor)),e.title&&t.push(j(e.title)),e.fontSize&&t.push(P(e.fontSize)),e.color&&t.push(O(e.color)),e.backgroundImage&&t.push(_(e.backgroundImage)),e.statusBarStyletype&&t.push(x(e.statusBarStyletype)),t.length>0?Promise.all(t):void 0}function j(e){return s("threesome/titleBar/title/text",{content:e})}function O(e){return s("threesome/titleBar/title/textColor",{color:e})}function P(e){return s("threesome/titleBar/title/fontSize",{size:e})}function S(e){return s("threesome/titleBar/background/color",{color:e})}function _(e){return s("threesome/titleBar/background/image",{imageType:e})}function x(e){return s("threesome/statusbar/style",{style:e})}function T(e){e()}var C,E="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),k=E&&window.navigator.userAgent.toLowerCase(),N=(k&&k.indexOf("android"),k&&/iphone|ipad|ipod|ios/.test(k),k&&k.indexOf("threesome")>0),I=(N&&k.match(/threesome\/([\d\.]*)/)[1],"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};try{C=Map}catch(e){C=function(){}}var R;try{R=Set}catch(e){R=function(){}}var J;try{J=Promise}catch(e){J=function(){}}t.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},t.__objToStr=n,t.__isDate=r,t.__isArray=o,t.__isRegExp=i,t.__getRegExpFlags=c;var z=[],A=[],V=window.WebViewJavascriptBridge?window.WebViewJavascriptBridge:function(){var e={callHandler:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];z.push(function(){window.WebViewJavascriptBridge.callHandler.apply(window.WebViewJavascriptBridge,t)})},registerHandler:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];A.push(function(){window.WebViewJavascriptBridge.registerHandler.apply(window.WebViewJavascriptBridge,t)})}},t=function(e){for(V=e;A.length>0;){var t=A.shift();t()}for(;z.length>0;){var t=z.shift();t()}};return window.WVJBCallbacks=[t],setTimeout(function(){var e=document.createElement("iframe");e.style.display="none",e.src="threesome://__BRIDGE_LOADED__",document.documentElement.appendChild(e),setTimeout(function(){document.documentElement.removeChild(e)},0)},0),e}(),W={};return function(){l("ThreesomeNativeNotification",function(e){var t=W[e.type],n="success"in t?t.success:function(){},r="fail"in t?t.fail:function(){},o="complete"in t?t.complete:function(){};switch(e.code){case 200:case 501:n(e.type);break;case 500:r(e.type)}o(e.type)})}(),D({},Object.freeze({navigateTo:p,redirectTo:d,navigateBack:y,redirectBack:h,setBackButtonStyleType:v,setCloseTextFontColor:g,showTxtRightButton:b,showGraphicalButton:w,setNavigationBar:B,setNavigationBarTitle:j,setNavigationBarFontColor:O,setNavigationBarFontSize:P,setNavigationBarBackgroundColor:S,setNavigationBarBackgroundImage:_,setStatusBarStyletype:x}),Object.freeze({ready:T}))});